<html>
    
    <head>
        <title>Coinview</title>
    </head>
    
    <!-- log output to console -->
     <body>

        <script>
            // Connect to the websocket and store to variable
            var binanceSocket = new WebSocket("wss://stream.binance.com:9443/ws/btcusdt@trade");
            // console.log(binanceSocket)

            // create log on console
            binanceSocket.onmessage = function (event) {
                console.log(event.data);
            }
        </script> 


        <!-- log output to webpage -->
        <h2>Trades</h2>

        <div id="trades"></div>

        <script>
            // Connect to the websocket and store to variable
            var binanceSocket = new WebSocket("wss://stream.binance.com:9443/ws/btcusdt@trade");
            
            // create variable for the div
            var tradeDiv = document.getElementById('trades')

            // create log on page
            binanceSocket.onmessage = function (event) {
                console.log(event.data);

                // create message object
                var messageObject = JSON.parse(event.data)
                
                // access the value for p key which is the price
                // messageObject.p
                // append price to div
                tradeDiv.append(messageObject.p)

            }

        </script>

    </body>

</html>